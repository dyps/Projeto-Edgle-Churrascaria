<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/templates/Template_Master.xhtml">

	<ui:define name="title">
		Pedidos
	</ui:define>
	<ui:define name="metadata">
		<f:metadata>
			<f:viewParam name="mesa" value="#{pedidoEdit.mesa}" />
			<!-- 			<f:viewParam name="produto" value="#{produtoPadraoEdit.produto}" /> -->
			<f:viewAction action="#{pedidoEdit.init()}" />
		</f:metadata>
	</ui:define>

	<ui:define name="content">
		<div class="ui-g-8">
			<div class="ui-g-12 ">
				<h:form>
					<p:commandLink type="submit" title="Icon Only"
						action="index.xhtml?faces-redirect=true">
						<i class="pi pi-home" style="color: black; font-size: 2.5rem;" />
					</p:commandLink>
					<p:outputLabel
						style="font-size: 1rem;font-weight: bolder;align-self: center;vertical-align: 50%"
						rendered="#{pedidoEdit.mesa!=null}"
						value=" > Mesa #{pedidoEdit.mesa.numero}" />
				</h:form>
			</div>
			<div class="ui-g-5">
				<h:form>
					<p:outputLabel value="Cliente: " />
					<p:selectOneListbox id="idListClientes"
						value="#{pedidoEdit.cliente}" var="c" filter="true"
						filterMatchMode="contains" scrollHeight="100">
						<f:selectItems value="#{manageCliente.clientes}" var="cat"
							itemLabel="#{cat.nome}" itemValue="#{cat}" />

						<p:column>
							<h:outputText value="#{c.nome}" />
							<h:outputText value=", nÃºmero: #{c.telefone}"
								rendered="#{!c.telefone.isEmpty()}" />
						</p:column>
					</p:selectOneListbox>
				</h:form>
			</div>
			<div class="ui-g-12"></div>
		</div>
		<div class="ui-g-4">
			<h:form>
				<div>
					<p:outputLabel value="Adicionar Produto:" />
				</div>

				<div>
					<p:commandLink type="submit"
						oncomplete=" PF('novoProduto').show();"
						update="formProd:idNovoProduto">
						<i class="pi pi-plus" style="color: black;" />
					</p:commandLink>
				</div>
			</h:form>
		</div>
		<h:form id="formProd">
			<p:dialog modal="true" id="idNovoProduto" widgetVar="novoProduto"
				width="40%" resizable="false" global="true" showEffect="fade"
				hideEffect="fade" header="Selecione o Produto" responsive="true">
				<p:tabView orientation="left"
					value="#{pedidoEdit.categoriasDeProdutos}" var="cat">
					<p:tab title="#{cat.nome}">

						<p:selectOneListbox id="idListProdu" var="c" filter="true"
							filterMatchMode="contains" scrollHeight="100">
							<f:selectItems value="#{pedidoEdit.produtosPorCat(cat)}"
								var="cat" itemLabel="#{cat.nome}" itemValue="#{cat}" />
							<p:column>
								<h:outputText value="#{c.nome}" />
								<h:outputText value=", #{pedidoEdit.tipoProduto(c.getClass().getSimpleName())}" />
							</p:column>
						</p:selectOneListbox>

					</p:tab>
				</p:tabView>
			</p:dialog>
		</h:form>
	</ui:define>

</ui:composition>

</html>